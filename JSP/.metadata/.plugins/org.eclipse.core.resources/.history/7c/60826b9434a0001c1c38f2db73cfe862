<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
 
<%@ page import = "java.sql.*" %>
    
    
<%

	try{
		String dbtype = "com.mysql.cj.jdbc.Driver";
		String dburl = "jdbc:mysql://localhost:3306/jdbc_practice01";
		String dbid = "root";
		String dbpw = "mysql";

		// 1. DB 종류 지정 및 연결 
		Class.forName(dbtype);
		Connection con = DriverManager.getConnection(dburl , dbid , dbpw); 
		
		// 2. 쿼리문 작성 및 pstmt 생성
		String sql = "SELECT * FROM userinfo" ;

		PreparedStatement pstmt = con.prepareStatement(sql);
		
		// 3. pstmt 실행으로 사용자가 보낸 폼 데이터 DB에 저장
		
		ResultSet rs = pstmt.executeQuery();
	
		
		
		//4. 실행 
		while(rs.next()){
			out.println("회원 이름    : " + rs.getString("uname") +"<br/>"); 
			out.println("회원 아이디   : " + rs.getString("uid") +"<br/>");
			out.println("회원 비밀번호  : " + rs.getString("upw") +"<br/>");
			out.println("회원 이메일   : " + rs.getString("uemail") +"<br/>");
			out.println("----------------------------"+ "<br/>");
			
		}
			
		
		
	}catch(Exception e){
		e.printStackTrace();
	}finally{
		
	}

	
	
	
	
%>    

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<table border = "1">
		<thead>
			<tr>
				<th>유저이름</th>
				<th>유저아이디 </th>
				<th>유저비번</th>
				<th>유저이메일</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>유저이름</th>
				<th>유저아이디 </th>
				<th>유저비번</th>
				<th>유저이메일</th>
			</tr>
			
			<tr>
				<th>유저이름</th>
				<th>유저아이디 </th>
				<th>유저비번</th>
				<th>유저이메일</th>
			</tr>
			
			<tr>
				<th>유저이름</th>
				<th>유저아이디 </th>
				<th>유저비번</th>
				<th>유저이메일</th>
			</tr>
			
			<tr>
				<th>유저이름</th>
				<th>유저아이디 </th>
				<th>유저비번</th>
				<th>유저이메일</th>
			</tr>
			
			
		</tbody>
	
	</table>

</body>
</html>