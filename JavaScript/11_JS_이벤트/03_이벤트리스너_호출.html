<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>JavaScript EventListener Call</title>
    <style>
		#divBox { width: 100%; height: 100px; border: 2px solid red; }
		#paraBox { width: 80%; height: 50px; border: 2px solid orange; }
		#spanBox { border: 2px solid green; }
        #divBox2 { width: 100%; height: 100px; border: 2px solid red; }
		#paraBox2 { width: 80%; height: 50px; border: 2px solid orange; }
		#spanBox2 { border: 2px solid green; }
        #divBox3 { width: 100%; height: 100px; border: 2px solid red; }
		#paraBox3 { width: 80%; height: 50px; border: 2px solid orange; }
		#spanBox3 { border: 2px solid green; }
	</style>
</head>

<body>

	<h1>이벤트 객체</h1>
	<button id="btn">눌러보세요!</button>
	<p id="text"></p>

	<script>
		var btn = document.getElementById("btn");	// 아이디가 "btn"인 요소를 선택함.
		btn.addEventListener("click", clickBtn);	// 선택한 요소에 click 이벤트 리스너를 등록함.
		
		function clickBtn(event) {
			document.getElementById("text").innerHTML =
				"이 이벤트의 타입은 " + event.type + "이며, 이벤트의 대상은 " + event.target + "입니다.";
		}
	</script>
		


	<h1>버블링 이벤트 전파</h1>
	<div id="divBox">
		<p id="paraBox">박스 안의 여러 곳을 <span id="spanBox">클릭</span>해 보세요!</p>
	</div>
	<p id="text2"></p>

	<script>
		// 각 요소마다 버블링 방식으로 click 이벤트 리스너를 등록함.
		document.getElementById("divBox").addEventListener("click", clickDiv);
		document.getElementById("paraBox").addEventListener("click", clickPara);
		document.getElementById("spanBox").addEventListener("click", clickSpan);
		
		function clickDiv(event) {
			document.getElementById("text2").innerHTML += "div 요소를 click 하셨네요!<br>";
		}
		function clickPara(event) {
			document.getElementById("text2").innerHTML += "p 요소를 click 하셨네요!<br>";
		}
		function clickSpan(event) {
			document.getElementById("text2").innerHTML += "span 요소를 click 하셨네요!<br>";
		}
	</script>

    <h1>캡쳐링 이벤트 전파</h1>
	<div id="divBox2">
		<p id="paraBox2">박스 안의 여러 곳을 <span id="spanBox2">클릭</span>해 보세요!</p>
	</div>
	<p id="text3"></p>

	<script>
		// 각 요소마다 캡쳐링 방식으로 click 이벤트 리스너를 등록함.
		document.getElementById("divBox2").addEventListener("click", clickDiv, true);
		document.getElementById("paraBox2").addEventListener("click", clickPara, true);
		document.getElementById("spanBox2").addEventListener("click", clickSpan, true);
		
		function clickDiv(event) {
			document.getElementById("text3").innerHTML += "div 요소를 click 하셨네요!<br>";
		}
		function clickPara(event) {
			document.getElementById("text3").innerHTML += "p 요소를 click 하셨네요!<br>";
		}
		function clickSpan(event) {
			document.getElementById("text3").innerHTML += "span 요소를 click 하셨네요!<br>";
		}
	</script>




	<h1>이벤트 전파의 취소</h1>
	<div id="divBox3">
		<p id="paraBox3">박스 안의 여러 곳을 <a id="linkBox3" href="/javascript/intro">클릭</a>해 보세요!</p>
	</div>
	<p id="text4"></p>

	<script>
		// 각 요소마다 버블링 방식으로 click 이벤트 리스너를 등록함.
		document.getElementById("divBox3").addEventListener("click", clickDiv);
		document.getElementById("paraBox3").addEventListener("click", clickPara);
		document.getElementById("linkBox3").addEventListener("click", clickLink);
		
		function clickDiv(event) {
			document.getElementById("text4").innerHTML += "div 요소를 click 하셨네요!<br>";
		}
		function clickPara(event) {
			document.getElementById("text4").innerHTML += "p 요소를 click 하셨네요!<br>";
		}
		function clickLink(event) {
			event.preventDefault();		// 링크의 기본 동작을 취소함.
			document.getElementById("text4").innerHTML += "링크의 기본 동작을 막았어요!<br>";
			event.stopPropagation();	// 이벤트의 전파를 취소함.
			document.getElementById("text4").innerHTML += "이벤트의 전파를 막았어요!<br>";
		}
	</script>
</body>

</html>